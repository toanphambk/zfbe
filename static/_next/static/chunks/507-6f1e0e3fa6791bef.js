"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[507],{43204:function(e,t,r){r.d(t,{Z:function(){return genericFormModal}});var a=r(57437),n=r(2265),o=r(4202),l=r(13664),i=r(22354),u=r(35692),s=r(64151),d=r(74776),c=r(53415),m=r(17423),h=r(32927),y=r(86248),f=r(80568),genericFormModal=e=>{let{title:t,icon:r,formInitData:x,data:p,submitBtnColor:g,sucessMessage:C,errorMessage:b,onSubmit:q,onCancel:v,fields:w}=e,j=(0,o.T)(),[k,D]=(0,n.useState)(x||{}),inputChangeHandler=(e,t)=>{D({...k,[t]:e})},submitHandler=async e=>{e.preventDefault();try{await q({formData:k,data:p}),j((0,l.cf)((0,a.jsx)(y.Z,{type:"success",title:"Sucess",message:C})))}catch(e){j((0,l.cf)((0,a.jsx)(y.Z,{type:"error",title:"Error",data:JSON.stringify(e,null,2),message:b})))}},removeModalHandler=()=>{null==v||v(),j((0,l.a_)())};return(0,a.jsxs)("form",{className:"flex flex-col bg-white shadow-xl rounded-xl",onSubmit:submitHandler,onKeyDown:e=>{"Enter"===e.key?(e.preventDefault(),submitHandler(e)):"Escape"===e.key&&removeModalHandler()},children:[(0,a.jsxs)("div",{className:"flex flex-row items-center justify-center mx-12 mt-8",children:[r,(0,a.jsx)("div",{className:"text-2xl font-semibold text-black ",children:t})]}),w.map((e,t)=>(0,a.jsxs)("div",{className:"flex justify-between mx-5 mt-5",children:[(0,a.jsx)(c.Z,{className:"w-32 mx-2 mt-1 mb-2 text-2xl font-semibold text-left text-gray-800",children:e.title}),(()=>{switch(e.type){case"textarea":return(0,a.jsx)(h.Z,{className:"w-full h-20 px-4 py-2 ml-1 text-sm text-gray-900 rounded-md shadow-sm ring-1 focus:outline-none ring-gray-200 focus:ring-gray-200 focus:ring-1 placeholder:text-gray-500",placeholder:e.title,required:e.require,value:k[e.key],onChange:t=>inputChangeHandler(t.target.value,e.key),autoFocus:e.focus});case"text":return(0,a.jsx)(m.Z,{className:"w-full text-sm text-gray-900 rounded-md shadow-sm ring-1 focus:outline-none ring-gray-200 focus:ring-gray-200 focus:ring-1 placeholder:text-gray-500",placeholder:e.title,required:e.require,value:k[e.key],onChange:t=>inputChangeHandler(t.target.value,e.key),autoFocus:e.focus});case"timePicker":return(0,a.jsx)("div",{className:"flex flex-row items-center w-full",children:(0,a.jsx)("input",{placeholder:e.title,className:"text-black rounded-md ring-0",type:"time",id:"appt",name:"appt",value:k[e.key],onChange:t=>inputChangeHandler(t.target.value,e.key),autoFocus:e.focus,required:e.require})});case"number":return(0,a.jsx)(u.Z,{className:"w-full text-sm text-gray-900 rounded-md shadow-sm ring-1 focus:outline-none ring-gray-200 focus:ring-gray-200 focus:ring-1 placeholder:text-gray-500",placeholder:e.title,required:e.require,value:k[e.key]||0,onChange:t=>inputChangeHandler(t.target.value,e.key),autoFocus:e.focus});case"select":var t;return(0,a.jsx)(s.Z,{value:k[e.key],onValueChange:t=>inputChangeHandler(t,e.key),placeholder:k[e.key],autoFocus:e.focus,"aria-label":e.title,children:null===(t=e.options)||void 0===t?void 0:t.map((e,t)=>(0,a.jsx)(d.Z,{value:e.value.toString(),children:e.label},t))});case"datePicker":return(0,a.jsx)(f.Z,{value:k[e.key],onChange:t=>inputChangeHandler(t,e.key),autoFocus:e.focus,"aria-label":e.title});case"dateRangePicker":return(0,a.jsx)(i.Z,{value:k[e.key],onValueChange:t=>inputChangeHandler(t,e.key),autoFocus:e.focus,"aria-label":e.title,enableSelect:!1})}})()]},t)),(0,a.jsxs)("div",{className:"flex flex-row-reverse items-center px-6 py-3 mt-5 bg-gray-100 rounded-xl",children:[(0,a.jsx)("button",{className:"w-20 h-10 ml-2 text-sm font-semibold text-gray-900 bg-white rounded-md shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",onClick:removeModalHandler,children:"Cancel"}),(0,a.jsx)("button",{className:"w-20 h-10 text-sm font-semibold text-white bg-".concat(g,"-600 rounded-md shadow-sm  hover:bg-").concat(g,"-500"),type:"submit",value:"Submit",children:"Confirm"})]})]})}},86248:function(e,t,r){var a=r(57437),n=r(13664),o=r(4202),l=r(2265),i=r(27431);t.Z=e=>{let{type:t,message:r,data:u,title:s,onClose:d}=e,c=(0,o.T)(),removeModalHandler=()=>{null==d||d(),c((0,n.a_)())},{icon:m,childComponent:h}=(0,l.useMemo)(()=>{switch(t){case"success":return{icon:(0,a.jsx)(i.HJi,{className:"mx-2 mt-1 text-2xl text-blue-500"})};case"info":return{icon:(0,a.jsx)(i.frK,{className:"mx-2 text-3xl text-blue-500"}),childComponent:(0,a.jsx)("div",{className:"flex flex-row items-center px-4 py-4 mx-5 mt-4 bg-gray-800 rounded-lg",children:(0,a.jsx)("pre",{className:"font-mono text-sm text-left text-white max-h-96 overflow-auto hide-scrollbar",children:u})})};default:return{icon:(0,a.jsx)(i.VLi,{className:"mx-2 text-3xl text-red-500"}),childComponent:(0,a.jsx)("div",{className:"flex flex-row items-center px-5 py-4 mx-5 mt-4 bg-gray-800 rounded-lg",children:(0,a.jsx)("pre",{className:"font-mono text-sm text-left text-white",children:u})})}}},[t,u]);return(0,a.jsxs)("form",{className:"flex flex-col text-black bg-white shadow-xl rounded-xl",onKeyDown:e=>{"Escape"===e.key&&removeModalHandler()},children:[(0,a.jsxs)("div",{className:"flex flex-row items-center justify-center mt-8",children:[m,(0,a.jsx)("div",{className:"text-2xl font-semibold text-black",children:s})]}),(0,a.jsx)("div",{className:"flex flex-row items-center justify-center mx-20 mt-6",children:(0,a.jsx)("div",{className:"font-semibold text-black text-md",children:r})}),h,(0,a.jsx)("div",{className:"flex flex-row-reverse items-center px-6 py-3 mt-5 bg-gray-100 rounded-xl",children:(0,a.jsx)("button",{type:"button",className:"w-20 h-10 ml-2 text-sm font-semibold text-gray-900 bg-white rounded-md shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",onClick:removeModalHandler,children:"Cancel"})})]})}},13664:function(e,t,r){r.d(t,{a_:function(){return i},cf:function(){return l}});var a=r(24302);let n={isActive:!1,childComponent:null},o=(0,a.createSlice)({name:"modal",initialState:n,reducers:{removeModal:()=>n,setModal:(e,t)=>{e.childComponent=t.payload,e.isActive=!0}}}),{setModal:l,removeModal:i}=o.actions;t.ZP=o.reducer},4202:function(e,t,r){r.d(t,{C:function(){return n},T:function(){return useAppDispatch}});var a=r(81023);let useAppDispatch=()=>(0,a.I0)(),n=a.v9},10349:function(e,t,r){r.d(t,{hi:function(){return i},Cd:function(){return x},h3:function(){return q},Pb:function(){return M},bF:function(){return O},HJ:function(){return k},ed:function(){return D},uU:function(){return P},Xv:function(){return T},dz:function(){return L},$I:function(){return Z},mN:function(){return I},Y0:function(){return S},aG:function(){return E},c5:function(){return A},UU:function(){return F}});var a=r(38324),n=r(6349);let o=(0,n.fetchBaseQuery)({baseUrl:"/",prepareHeaders:(e,t)=>{let{getState:r}=t,a=r().authReducer.token;return a&&e.set("authorization","Bearer ".concat(a)),e}}),l=(0,a.LC)({baseQuery:o,endpoints:()=>({})}),i=l.injectEndpoints({endpoints:e=>({usersControllerCreate:e.mutation({query:e=>({url:"/api/users",method:"POST",body:e.createUserDto})}),usersControllerFindAll:e.query({query:e=>({url:"/api/users",params:{page:e.page,limit:e.limit}})}),usersControllerFindOne:e.query({query:e=>({url:"/api/users/".concat(e.id)})}),usersControllerUpdate:e.mutation({query:e=>({url:"/api/users/".concat(e.id),method:"PATCH",body:e.updateUserDto})}),usersControllerRemove:e.mutation({query:e=>({url:"/api/users/".concat(e.id),method:"DELETE"})}),filesControllerUploadFile:e.mutation({query:e=>({url:"/api/files/upload",method:"POST",body:e.body})}),filesControllerDownload:e.query({query:e=>({url:"/api/files/".concat(e.path)})}),authControllerLogin:e.mutation({query:e=>({url:"/api/auth/email/login",method:"POST",body:e.authEmailLoginDto})}),authControllerAdminLogin:e.mutation({query:e=>({url:"/api/auth/admin/email/login",method:"POST",body:e.authEmailLoginDto})}),authControllerRegister:e.mutation({query:e=>({url:"/api/auth/email/register",method:"POST",body:e.authRegisterLoginDto})}),authControllerConfirmEmail:e.mutation({query:e=>({url:"/api/auth/email/confirm",method:"POST",body:e.authConfirmEmailDto})}),authControllerForgotPassword:e.mutation({query:e=>({url:"/api/auth/forgot/password",method:"POST",body:e.authForgotPasswordDto})}),authControllerResetPassword:e.mutation({query:e=>({url:"/api/auth/reset/password",method:"POST",body:e.authResetPasswordDto})}),authControllerMe:e.query({query:()=>({url:"/api/auth/me"})}),authControllerUpdate:e.mutation({query:e=>({url:"/api/auth/me",method:"PATCH",body:e.authUpdateDto})}),authControllerDelete:e.mutation({query:()=>({url:"/api/auth/me",method:"DELETE"})}),homeControllerAppInfo:e.query({query:()=>({url:"/"})}),machineControllerCreate:e.mutation({query:e=>({url:"/api/machine",method:"POST",body:e.createMachineDto})}),machineControllerFindAll:e.query({query:()=>({url:"/api/machine"})}),machineControllerFindOne:e.query({query:e=>({url:"/api/machine/".concat(e.id)})}),machineControllerUpdate:e.mutation({query:e=>({url:"/api/machine/".concat(e.id),method:"PATCH",body:e.updateMachineDto})}),machineControllerRemove:e.mutation({query:e=>({url:"/api/machine/".concat(e.id),method:"DELETE"})}),shiftControllerCreate:e.mutation({query:e=>({url:"/api/shift",method:"POST",body:e.createShiftDto})}),shiftControllerFindAll:e.query({query:e=>({url:"/api/shift",params:{id:e.id}})}),shiftControllerFindOne:e.query({query:e=>({url:"/api/shift/".concat(e.id)})}),shiftControllerUpdate:e.mutation({query:e=>({url:"/api/shift/".concat(e.id),method:"PATCH",body:e.updateShiftDto})}),shiftControllerRemove:e.mutation({query:e=>({url:"/api/shift/".concat(e.id),method:"DELETE"})}),hardwareActionControllerCreateQrCode:e.mutation({query:e=>({url:"/api/qrCode/createQrCode",method:"POST",body:e.createQrCodeDto})}),hardwareActionControllerCreateRfid:e.mutation({query:e=>({url:"/api/qrCode/createRFID",method:"POST",body:e.createRfidDto})}),mesControllerFindAllRecord:e.query({query:()=>({url:"/api/mes"})}),mesControllerFindAllRecordByMachineAndDateTime:e.query({query:e=>({url:"/api/mes/machineDateTime",params:{machineId:e.machineId,startTime:e.startTime,endTime:e.endTime}})}),mesControllerGetDailyLineChartData:e.query({query:e=>({url:"/api/mes/dailyLineChartData",params:{machineId:e.machineId,time:e.time}})}),mesControllerFindOneRecord:e.query({query:e=>({url:"/api/mes/".concat(e.moduleSerialNo)})}),monitorServiceManagerControllerGetMachineState:e.query({query:e=>({url:"/api/monitor",params:{machineId:e.machineId}})})}),overrideExisting:!1}),{useUsersControllerCreateMutation:u,useUsersControllerFindAllQuery:s,useUsersControllerFindOneQuery:d,useUsersControllerUpdateMutation:c,useUsersControllerRemoveMutation:m,useFilesControllerUploadFileMutation:h,useFilesControllerDownloadQuery:y,useAuthControllerLoginMutation:f,useAuthControllerAdminLoginMutation:x,useAuthControllerRegisterMutation:p,useAuthControllerConfirmEmailMutation:g,useAuthControllerForgotPasswordMutation:C,useAuthControllerResetPasswordMutation:b,useAuthControllerMeQuery:q,useAuthControllerUpdateMutation:v,useAuthControllerDeleteMutation:w,useHomeControllerAppInfoQuery:j,useMachineControllerCreateMutation:k,useMachineControllerFindAllQuery:D,useMachineControllerFindOneQuery:N,useMachineControllerUpdateMutation:T,useMachineControllerRemoveMutation:P,useShiftControllerCreateMutation:S,useShiftControllerFindAllQuery:E,useShiftControllerFindOneQuery:H,useShiftControllerUpdateMutation:F,useShiftControllerRemoveMutation:A,useHardwareActionControllerCreateQrCodeMutation:M,useHardwareActionControllerCreateRfidMutation:O,useMesControllerFindAllRecordQuery:R,useMesControllerFindAllRecordByMachineAndDateTimeQuery:L,useMesControllerGetDailyLineChartDataQuery:Z,useMesControllerFindOneRecordQuery:U,useMonitorServiceManagerControllerGetMachineStateQuery:I}=i}}]);