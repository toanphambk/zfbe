(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{51822:function(e,t,r){Promise.resolve().then(r.bind(r,26620))},26620:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return RootLayout}});var n=r(57437);r(92489);var o=r(2265);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _possibleConstructorReturn(e,t){return t&&("object"===_typeof(t)||"function"==typeof t)?t:_assertThisInitialized(e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=function(e){function PersistGate(){_classCallCheck(this,PersistGate);for(var e,t,r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return _defineProperty(_assertThisInitialized(t=_possibleConstructorReturn(this,(e=_getPrototypeOf(PersistGate)).call.apply(e,[this].concat(n)))),"state",{bootstrapped:!1}),_defineProperty(_assertThisInitialized(t),"_unsubscribe",void 0),_defineProperty(_assertThisInitialized(t),"handlePersistorState",function(){t.props.persistor.getState().bootstrapped&&(t.props.onBeforeLift?Promise.resolve(t.props.onBeforeLift()).finally(function(){return t.setState({bootstrapped:!0})}):t.setState({bootstrapped:!0}),t._unsubscribe&&t._unsubscribe())}),t}return _inherits(PersistGate,e),_createClass(PersistGate,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return"function"==typeof this.props.children?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),PersistGate}(o.PureComponent);_defineProperty(i,"defaultProps",{children:null,loading:null});var a=r(40482),u=r(81023);function Providers(e){let{children:t}=e;return(0,n.jsx)(u.zt,{store:a.h,children:(0,n.jsx)(i,{loading:null,persistor:a.D,children:t})})}var l=r(72543),s=r(24033);function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(e,t)}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function _arrayWithHoles(e){if(Array.isArray(e))return e}var es_AntdRegistry=function(e){var t=e.children,r=_slicedToArray((0,o.useState)(function(){return(0,l.createCache)()}),1)[0],n=(0,o.useRef)(!1);return(0,s.useServerInsertedHTML)(function(){var e=(0,l.extractStyle)(r,{plain:!0});return n.current?null:(n.current=!0,o.createElement("style",{id:"antd-cssinjs","data-rc-order":"prepend","data-rc-priority":"-1000",dangerouslySetInnerHTML:{__html:e}}))}),o.createElement(l.StyleProvider,{cache:r},t)};function RootLayout(e){let{children:t}=e;return(0,n.jsx)("html",{lang:"en",children:(0,n.jsx)("body",{suppressHydrationWarning:!0,children:(0,n.jsx)("main",{children:(0,n.jsx)(es_AntdRegistry,{children:(0,n.jsx)(Providers,{children:t})})})})})}},63899:function(e,t,r){"use strict";r.d(t,{$k:function(){return c},um:function(){return s}});var n=r(24302),o=r(10349);let i=(0,n.createSlice)({name:"auth",initialState:{isLoading:!1,isError:null,email:"",password:""},reducers:{SetEmail:(e,t)=>{e.email=t.payload},SetPassword:(e,t)=>{e.password=t.payload},LoginStart:e=>{e.isLoading=!0,e.isError=null},LoginSuccess:e=>{e.isLoading=!1,e.isError=null},LoginFailure:(e,t)=>{e.isLoading=!1,e.isError=t.payload.data}},extraReducers:e=>{e.addMatcher(o.hi.endpoints.authControllerAdminLogin.matchFulfilled,e=>{i.caseReducers.LoginSuccess(e)}).addMatcher(o.hi.endpoints.authControllerAdminLogin.matchPending,e=>{i.caseReducers.LoginStart(e)}).addMatcher(o.hi.endpoints.authControllerAdminLogin.matchRejected,(e,t)=>{i.caseReducers.LoginFailure(e,t)})}}),{LoginStart:a,LoginSuccess:u,LoginFailure:l,SetEmail:s,SetPassword:c}=i.actions;t.ZP=i.reducer},13664:function(e,t,r){"use strict";r.d(t,{a_:function(){return u},cf:function(){return a}});var n=r(24302);let o={isActive:!1,childComponent:null},i=(0,n.createSlice)({name:"modal",initialState:o,reducers:{removeModal:()=>o,setModal:(e,t)=>{e.childComponent=t.payload,e.isActive=!0}}}),{setModal:a,removeModal:u}=i.actions;t.ZP=i.reducer},74933:function(e,t,r){"use strict";r.d(t,{N7:function(){return u},pO:function(){return a}});var n=r(24302),o=r(27431);let i=(0,n.createSlice)({name:"sidebar",initialState:{activeIndex:0},reducers:{SetSidebarActiveIndex:(e,t)=>{e.activeIndex=a.findIndex(e=>e.link==t.payload)}}}),a=[{icon:o.g3P,label:"Home",link:"/home"},{icon:o.HuB,label:"Report",link:"/home/report"},{icon:o.__X,label:"Setting",link:"/home/setting"},{icon:o._K$,label:"Profile",link:"/home/profile"},{icon:o.ApJ,label:"Logout",link:"/login"}],{SetSidebarActiveIndex:u}=i.actions;t.ZP=i.reducer},26915:function(e,t,r){"use strict";r.d(t,{x:function(){return i}});var n=r(24302);let o=(0,n.createSlice)({name:"appSetting",initialState:{machine:void 0},reducers:{setAppSettingMachine:(e,t)=>{e.machine=t.payload}}}),{setAppSettingMachine:i}=o.actions;t.Z=o.reducer},52556:function(e,t,r){"use strict";r.d(t,{G:function(){return l}});var n=r(24302),o=r(10349);let i={token:void 0,user:void 0},a=(0,n.createSlice)({name:"auth",initialState:i,reducers:{setAuthData:(e,t)=>{let{token:r,user:n}=t.payload;e.token=r||e.token,e.user=n||e.user},removeAuthData:()=>i},extraReducers:e=>{e.addMatcher(o.hi.endpoints.authControllerAdminLogin.matchFulfilled,(e,t)=>{a.caseReducers.setAuthData(e,t)}),e.addMatcher(o.hi.endpoints.authControllerAdminLogin.matchRejected,e=>{a.caseReducers.removeAuthData()})}}),{setAuthData:u,removeAuthData:l}=a.actions;t.ZP=a.reducer},36804:function(e,t,r){"use strict";r.d(t,{OL:function(){return a},b2:function(){return u}});var n=r(24302);let o={rfid:{},scanner:{}},i=(0,n.createSlice)({name:"portsSetting",initialState:o,reducers:{setPortInfo:(e,t)=>{let{device:r,portInfo:n}=t.payload;e[r].portInfo=n},setPortOption:(e,t)=>{let{device:r,portOption:n}=t.payload;e[r].portOption=n},removeSerialSetting:()=>o}}),{setPortInfo:a,setPortOption:u,removeSerialSetting:l}=i.actions;t.ZP=i.reducer},40219:function(e,t,r){"use strict";r.d(t,{BU:function(){return i},a_:function(){return a},sT:function(){return u}});var n=r(24302);let o=(0,n.createSlice)({name:"serialPortState",initialState:{rfid:{isOpen:!1,data:"",error:null},scanner:{isOpen:!1,data:"",error:null}},reducers:{setOpenState:(e,t)=>{let{device:r,isOpen:n}=t.payload;e[r].isOpen=n},setData:(e,t)=>{let{device:r,data:n}=t.payload;console.log(n),e[r].data=n},setError:(e,t)=>{let{device:r,error:n}=t.payload;e[r].error=n}}}),{setOpenState:i,setData:a,setError:u}=o.actions;t.ZP=o.reducer},10349:function(e,t,r){"use strict";r.d(t,{hi:function(){return u},Cd:function(){return y},h3:function(){return v},Pb:function(){return x},bF:function(){return M},HJ:function(){return T},ed:function(){return R},uU:function(){return L},Xv:function(){return A},dz:function(){return U},$I:function(){return N},mN:function(){return z},Y0:function(){return w},aG:function(){return I},c5:function(){return k},UU:function(){return D}});var n=r(38324),o=r(6349);let i=(0,o.fetchBaseQuery)({baseUrl:"/",prepareHeaders:(e,t)=>{let{getState:r}=t,n=r().authReducer.token;return n&&e.set("authorization","Bearer ".concat(n)),e}}),a=(0,n.LC)({baseQuery:i,endpoints:()=>({})}),u=a.injectEndpoints({endpoints:e=>({usersControllerCreate:e.mutation({query:e=>({url:"/api/users",method:"POST",body:e.createUserDto})}),usersControllerFindAll:e.query({query:e=>({url:"/api/users",params:{page:e.page,limit:e.limit}})}),usersControllerFindOne:e.query({query:e=>({url:"/api/users/".concat(e.id)})}),usersControllerUpdate:e.mutation({query:e=>({url:"/api/users/".concat(e.id),method:"PATCH",body:e.updateUserDto})}),usersControllerRemove:e.mutation({query:e=>({url:"/api/users/".concat(e.id),method:"DELETE"})}),filesControllerUploadFile:e.mutation({query:e=>({url:"/api/files/upload",method:"POST",body:e.body})}),filesControllerDownload:e.query({query:e=>({url:"/api/files/".concat(e.path)})}),authControllerLogin:e.mutation({query:e=>({url:"/api/auth/email/login",method:"POST",body:e.authEmailLoginDto})}),authControllerAdminLogin:e.mutation({query:e=>({url:"/api/auth/admin/email/login",method:"POST",body:e.authEmailLoginDto})}),authControllerRegister:e.mutation({query:e=>({url:"/api/auth/email/register",method:"POST",body:e.authRegisterLoginDto})}),authControllerConfirmEmail:e.mutation({query:e=>({url:"/api/auth/email/confirm",method:"POST",body:e.authConfirmEmailDto})}),authControllerForgotPassword:e.mutation({query:e=>({url:"/api/auth/forgot/password",method:"POST",body:e.authForgotPasswordDto})}),authControllerResetPassword:e.mutation({query:e=>({url:"/api/auth/reset/password",method:"POST",body:e.authResetPasswordDto})}),authControllerMe:e.query({query:()=>({url:"/api/auth/me"})}),authControllerUpdate:e.mutation({query:e=>({url:"/api/auth/me",method:"PATCH",body:e.authUpdateDto})}),authControllerDelete:e.mutation({query:()=>({url:"/api/auth/me",method:"DELETE"})}),homeControllerAppInfo:e.query({query:()=>({url:"/"})}),machineControllerCreate:e.mutation({query:e=>({url:"/api/machine",method:"POST",body:e.createMachineDto})}),machineControllerFindAll:e.query({query:()=>({url:"/api/machine"})}),machineControllerFindOne:e.query({query:e=>({url:"/api/machine/".concat(e.id)})}),machineControllerUpdate:e.mutation({query:e=>({url:"/api/machine/".concat(e.id),method:"PATCH",body:e.updateMachineDto})}),machineControllerRemove:e.mutation({query:e=>({url:"/api/machine/".concat(e.id),method:"DELETE"})}),shiftControllerCreate:e.mutation({query:e=>({url:"/api/shift",method:"POST",body:e.createShiftDto})}),shiftControllerFindAll:e.query({query:e=>({url:"/api/shift",params:{id:e.id}})}),shiftControllerFindOne:e.query({query:e=>({url:"/api/shift/".concat(e.id)})}),shiftControllerUpdate:e.mutation({query:e=>({url:"/api/shift/".concat(e.id),method:"PATCH",body:e.updateShiftDto})}),shiftControllerRemove:e.mutation({query:e=>({url:"/api/shift/".concat(e.id),method:"DELETE"})}),hardwareActionControllerCreateQrCode:e.mutation({query:e=>({url:"/api/qrCode/createQrCode",method:"POST",body:e.createQrCodeDto})}),hardwareActionControllerCreateRfid:e.mutation({query:e=>({url:"/api/qrCode/createRFID",method:"POST",body:e.createRfidDto})}),mesControllerFindAllRecord:e.query({query:()=>({url:"/api/mes"})}),mesControllerFindAllRecordByMachineAndDateTime:e.query({query:e=>({url:"/api/mes/machineDateTime",params:{machineId:e.machineId,startTime:e.startTime,endTime:e.endTime}})}),mesControllerGetDailyLineChartData:e.query({query:e=>({url:"/api/mes/dailyLineChartData",params:{machineId:e.machineId,time:e.time}})}),mesControllerFindOneRecord:e.query({query:e=>({url:"/api/mes/".concat(e.moduleSerialNo)})}),monitorServiceManagerControllerGetMachineState:e.query({query:e=>({url:"/api/monitor",params:{machineId:e.machineId}})})}),overrideExisting:!1}),{useUsersControllerCreateMutation:l,useUsersControllerFindAllQuery:s,useUsersControllerFindOneQuery:c,useUsersControllerUpdateMutation:d,useUsersControllerRemoveMutation:p,useFilesControllerUploadFileMutation:f,useFilesControllerDownloadQuery:h,useAuthControllerLoginMutation:m,useAuthControllerAdminLoginMutation:y,useAuthControllerRegisterMutation:b,useAuthControllerConfirmEmailMutation:_,useAuthControllerForgotPasswordMutation:g,useAuthControllerResetPasswordMutation:P,useAuthControllerMeQuery:v,useAuthControllerUpdateMutation:C,useAuthControllerDeleteMutation:S,useHomeControllerAppInfoQuery:O,useMachineControllerCreateMutation:T,useMachineControllerFindAllQuery:R,useMachineControllerFindOneQuery:E,useMachineControllerUpdateMutation:A,useMachineControllerRemoveMutation:L,useShiftControllerCreateMutation:w,useShiftControllerFindAllQuery:I,useShiftControllerFindOneQuery:j,useShiftControllerUpdateMutation:D,useShiftControllerRemoveMutation:k,useHardwareActionControllerCreateQrCodeMutation:x,useHardwareActionControllerCreateRfidMutation:M,useMesControllerFindAllRecordQuery:F,useMesControllerFindAllRecordByMachineAndDateTimeQuery:U,useMesControllerGetDailyLineChartDataQuery:N,useMesControllerFindOneRecordQuery:Z,useMonitorServiceManagerControllerGetMachineStateQuery:z}=u},40482:function(e,t,r){"use strict";r.d(t,{D:function(){return O},h:function(){return S}});var n=r(24302),o=r(81267),i=r(11850),a=r(52967),u=r(75793),l=r(74933),s=r(63899),c=r(13664);let d={selectedMachine:void 0},p=(0,n.createSlice)({name:"settingPage",initialState:d,reducers:{removeModal:()=>d,setSelectedMachine:(e,t)=>{let{id:r}=t.payload;e.selectedMachine=t.payload}}}),{setSelectedMachine:f}=p.actions;var h=p.reducer,m=r(52556),y=r(36804),b=r(40219),_=r(26915),g=r(10349);let P=(0,u.UY)({[g.hi.reducerPath]:g.hi.reducer,settingPageReducer:h,sidebarReducer:l.ZP,authReducer:m.ZP,loginReducer:s.ZP,modalReducer:c.ZP,portsSettingReducer:y.ZP,serialPortStateReducer:b.ZP,appSettingReducer:_.Z}),v={key:"root",storage:i.Z,blacklist:[g.hi.reducerPath,"modalReducer","settingPageReducer","serialPortStateReducer"]},C=(0,o.OJ)(v,P),S=(0,n.configureStore)({reducer:C,devTools:!1,middleware:e=>e({serializableCheck:{ignoredActions:[o._P,o.I2,o.E7,o.ex,o.e,o.Nz,"modal/setModal"],ignoredPaths:["modalReducer.childComponent"]}}).concat(g.hi.middleware)});(0,a.sj)(S.dispatch);let O=(0,o.p5)(S)},92489:function(){},30622:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(2265),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,u=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,r){var n,i={},s=null,c=null;for(n in void 0!==r&&(s=""+r),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,n)&&!l.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:o,type:e,key:s,ref:c,props:i,_owner:u.current}}t.Fragment=i,t.jsx=q,t.jsxs=q},57437:function(e,t,r){"use strict";e.exports=r(30622)},91172:function(e,t,r){"use strict";r.d(t,{w_:function(){return GenIcon}});var n=r(2265),o={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=n.createContext&&n.createContext(o),__assign=function(){return(__assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},__rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)0>t.indexOf(n[o])&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};function Tree2Element(e){return e&&e.map(function(e,t){return n.createElement(e.tag,__assign({key:t},e.attr),Tree2Element(e.child))})}function GenIcon(e){return function(t){return n.createElement(IconBase,__assign({attr:__assign({},e.attr)},t),Tree2Element(e.child))}}function IconBase(e){var elem=function(t){var r,o=e.attr,i=e.size,a=e.title,u=__rest(e,["attr","size","title"]),l=i||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),n.createElement("svg",__assign({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,o,u,{className:r,style:__assign(__assign({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&n.createElement("title",null,a),e.children)};return void 0!==i?n.createElement(i.Consumer,null,function(e){return elem(e)}):elem(o)}},20791:function(e,t,r){"use strict";function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}r.d(t,{Z:function(){return _objectWithoutPropertiesLoose}})}},function(e){e.O(0,[982,792,543,306,971,472,744],function(){return e(e.s=51822)}),_N_E=e.O()}]);