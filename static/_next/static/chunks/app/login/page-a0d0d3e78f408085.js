(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{37645:function(e,n,u){"use strict";u.d(n,{Z:function(){return g}});var l=u(50044),i=u(2265);let r=e=>{var n=(0,l._T)(e,[]);return i.createElement("svg",Object.assign({},n,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"}),i.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"}))},EyeIcon_r=e=>{var n=(0,l._T)(e,[]);return i.createElement("svg",Object.assign({},n,{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor"}),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}))},EyeOffIcon_r=e=>{var n=(0,l._T)(e,[]);return i.createElement("svg",Object.assign({},n,{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor"}),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"}))};var s=u(86515),c=u(69928),m=u(16737),h=u(37517),p=u(12112),f=u(93568);let g=i.forwardRef((e,n)=>{let{value:u,defaultValue:g,type:y,placeholder:b="Type...",icon:C,error:k=!1,errorMessage:x,disabled:v=!1,stepper:w,makeInputClassName:E,className:L,onChange:T,onValueChange:D,autoFocus:N}=e,R=(0,l._T)(e,["value","defaultValue","type","placeholder","icon","error","errorMessage","disabled","stepper","makeInputClassName","className","onChange","onValueChange","autoFocus"]),[S,A]=(0,i.useState)(!1),[P,O]=(0,i.useState)(!1),j=(0,i.useCallback)(()=>O(!P),[P,O]),I=(0,i.useRef)(null),F=(0,s.Uh)(u||g),q=e=>{var n,u;!1===e?null===(n=I.current)||void 0===n||n.blur():null===(u=I.current)||void 0===u||u.focus(),A(e)};return i.useEffect(()=>{N&&I.current&&(I.current.focus(),A(!0))},[N]),i.createElement(i.Fragment,null,i.createElement("div",{className:(0,p.q)(E("root"),"relative w-full flex items-center min-w-[10rem] outline-none rounded-tremor-default transition duration-100","shadow-tremor-input","dark:shadow-dark-tremor-input",(0,s.um)(F,v,k),S&&(0,p.q)("ring-2","border-tremor-brand-subtle ring-tremor-brand-muted","dark:border-dark-tremor-brand-subtle dark:ring-dark-tremor-brand-muted"),c.C.sm.all,L),onClick:()=>{v||q(!0)},onFocus:()=>{q(!0)},onBlur:()=>{q(!1)}},C?i.createElement(C,{className:(0,p.q)(E("icon"),"shrink-0","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle",m.N.lg.height,m.N.lg.width,h.W.md.marginLeft)}):null,i.createElement("input",Object.assign({ref:(0,f.lq)([I,n]),defaultValue:g,value:u,type:P?"text":y,className:(0,p.q)(E("input"),"w-full focus:outline-none focus:ring-0 border-none bg-transparent text-tremor-default rounded-tremor-default transition duration-100","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis","[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",C?h.W.sm.paddingLeft:h.W.lg.paddingLeft,k?h.W.lg.paddingRight:h.W.twoXl.paddingRight,h.W.sm.paddingY,v?"placeholder:text-tremor-content-subtle dark:placeholder:text-dark-tremor-content-subtle":"placeholder:text-tremor-content dark:placeholder:text-dark-tremor-content"),placeholder:b,disabled:v,"data-testid":"base-input",onChange:e=>{null==T||T(e),null==D||D(e.target.value)}},R)),"password"!==y||v?null:i.createElement("button",{className:(0,p.q)(E("toggleButton"),"mr-2"),type:"button",onClick:()=>j()},P?i.createElement(EyeOffIcon_r,{className:(0,p.q)("flex-none h-5 w-5 transition","text-tremor-content-subtle hover:text-tremor-content","dark:text-dark-tremor-content-subtle hover:dark:text-dark-tremor-content")}):i.createElement(EyeIcon_r,{className:(0,p.q)("flex-none h-5 w-5 transition","text-tremor-content-subtle hover:text-tremor-content","dark:text-dark-tremor-content-subtle hover:dark:text-dark-tremor-content")})),k?i.createElement(r,{className:(0,p.q)(E("errorIcon"),"text-rose-500 shrink-0",h.W.md.marginRight,m.N.lg.height,m.N.lg.width)}):null,null!=w?w:null),k&&x?i.createElement("p",{className:(0,p.q)(E("errorMessage"),"text-sm text-rose-500 mt-1")},x):null)});g.displayName="BaseInput"},17423:function(e,n,u){"use strict";u.d(n,{Z:function(){return h}});var l=u(50044);u(12112);var i=u(93568),s=u(2265),c=u(37645);let m=(0,i.fn)("TextInput"),h=s.forwardRef((e,n)=>{let{type:u="text"}=e,i=(0,l._T)(e,["type"]);return s.createElement(c.Z,Object.assign({ref:n,type:u,makeInputClassName:m},i))});h.displayName="TextInput"},86515:function(e,n,u){"use strict";u.d(n,{Uh:function(){return d},qg:function(){return t},sl:function(){return o},um:function(){return a}});var l=u(12112),i=u(2265);let t=e=>["string","number"].includes(typeof e)?e:e instanceof Array?e.map(t).join(""):"object"==typeof e&&e?t(e.props.children):void 0;function o(e){let n=new Map;return i.Children.map(e,e=>{var u;n.set(e.props.value,null!==(u=t(e))&&void 0!==u?u:e.props.value)}),n}let a=(e,n,u=!1)=>(0,l.q)(n?"bg-tremor-background-subtle dark:bg-dark-tremor-background-subtle":"bg-tremor-background dark:bg-dark-tremor-background",!n&&"hover:bg-tremor-background-muted dark:hover:bg-dark-tremor-background-muted",e?"text-tremor-content-emphasis dark:text-dark-tremor-content-emphasis":"text-tremor-content dark:text-dark-tremor-content",n&&"text-tremor-content-subtle dark:text-dark-tremor-content-subtle",u&&"text-rose-500",u?"border-rose-500":"border-tremor-border dark:border-dark-tremor-border");function d(e){return null!=e&&""!==e}},4618:function(e,n,u){Promise.resolve().then(u.bind(u,31590))},31590:function(e,n,u){"use strict";u.r(n),u.d(n,{default:function(){return Login}});var l=u(57437),i=u(4202),s=u(6020),c=u(392),m=u(53415),h=u(17423),p=u(27431),f=u(63899),g=u(24033),y=u(52556),b=u(2265),C=u(10349);function Login(){let[e]=(0,C.Cd)(),n=(0,i.T)(),{token:u,user:k}=(0,i.C)(e=>e.authReducer),{isLoading:x,isError:v,email:w,password:E}=(0,i.C)(e=>e.loginReducer),L=(0,g.useRouter)();(0,b.useEffect)(()=>{(u||k)&&n((0,y.G)())},[]);let handleSignIn=async n=>{n.preventDefault();try{await e({authEmailLoginDto:{email:w,password:E}}).unwrap(),L.push("/home")}catch(e){console.log(e)}};return(0,l.jsx)(c.Z,{className:"flex items-center w-1/4 mx-auto",children:(0,l.jsxs)("form",{className:"flex flex-col w-full",onSubmit:handleSignIn,children:[(0,l.jsxs)("div",{className:"flex flex-row items-center mx-auto mb-4",children:[(0,l.jsx)(p.mhe,{className:"text-6xl text-blue-600 "}),(0,l.jsx)(m.Z,{className:"ml-2 font-sans text-2xl font-bold text-black ",children:"Log In"})]}),(0,l.jsx)(h.Z,{className:"mb-4",icon:p.Zuw,placeholder:"Email",value:w,onChange:e=>n((0,f.um)(e.target.value))}),(0,l.jsx)(h.Z,{className:"mb-2",type:"password",error:!!v,value:E,onChange:e=>n((0,f.$k)(e.target.value))}),(0,l.jsxs)("div",{className:"flex flex-row justify-between w-full mt-2 mb-3",children:[(0,l.jsx)(m.Z,{className:"w-full mb-5 text-sm text-black text-begin hover:cursor-pointer",children:"Forgot password ?"}),(0,l.jsx)(s.Z,{className:"h-10 w-28",loading:x,type:"submit",children:"Sign in"})]})]})})}},63899:function(e,n,u){"use strict";u.d(n,{$k:function(){return f},um:function(){return p}});var l=u(24302),i=u(10349);let s=(0,l.createSlice)({name:"auth",initialState:{isLoading:!1,isError:null,email:"",password:""},reducers:{SetEmail:(e,n)=>{e.email=n.payload},SetPassword:(e,n)=>{e.password=n.payload},LoginStart:e=>{e.isLoading=!0,e.isError=null},LoginSuccess:e=>{e.isLoading=!1,e.isError=null},LoginFailure:(e,n)=>{e.isLoading=!1,e.isError=n.payload.data}},extraReducers:e=>{e.addMatcher(i.hi.endpoints.authControllerAdminLogin.matchFulfilled,e=>{s.caseReducers.LoginSuccess(e)}).addMatcher(i.hi.endpoints.authControllerAdminLogin.matchPending,e=>{s.caseReducers.LoginStart(e)}).addMatcher(i.hi.endpoints.authControllerAdminLogin.matchRejected,(e,n)=>{s.caseReducers.LoginFailure(e,n)})}}),{LoginStart:c,LoginSuccess:m,LoginFailure:h,SetEmail:p,SetPassword:f}=s.actions;n.ZP=s.reducer},52556:function(e,n,u){"use strict";u.d(n,{G:function(){return h}});var l=u(24302),i=u(10349);let s={token:void 0,user:void 0},c=(0,l.createSlice)({name:"auth",initialState:s,reducers:{setAuthData:(e,n)=>{let{token:u,user:l}=n.payload;e.token=u||e.token,e.user=l||e.user},removeAuthData:()=>s},extraReducers:e=>{e.addMatcher(i.hi.endpoints.authControllerAdminLogin.matchFulfilled,(e,n)=>{c.caseReducers.setAuthData(e,n)}),e.addMatcher(i.hi.endpoints.authControllerAdminLogin.matchRejected,e=>{c.caseReducers.removeAuthData()})}}),{setAuthData:m,removeAuthData:h}=c.actions;n.ZP=c.reducer},4202:function(e,n,u){"use strict";u.d(n,{C:function(){return i},T:function(){return useAppDispatch}});var l=u(81023);let useAppDispatch=()=>(0,l.I0)(),i=l.v9},10349:function(e,n,u){"use strict";u.d(n,{hi:function(){return m},Cd:function(){return x},h3:function(){return T},Pb:function(){return Z},bF:function(){return B},HJ:function(){return S},ed:function(){return A},uU:function(){return j},Xv:function(){return O},dz:function(){return z},$I:function(){return H},mN:function(){return G},Y0:function(){return I},aG:function(){return F},c5:function(){return U},UU:function(){return _}});var l=u(38324),i=u(6349);let s=(0,i.fetchBaseQuery)({baseUrl:"/",prepareHeaders:(e,n)=>{let{getState:u}=n,l=u().authReducer.token;return l&&e.set("authorization","Bearer ".concat(l)),e}}),c=(0,l.LC)({baseQuery:s,endpoints:()=>({})}),m=c.injectEndpoints({endpoints:e=>({usersControllerCreate:e.mutation({query:e=>({url:"/api/users",method:"POST",body:e.createUserDto})}),usersControllerFindAll:e.query({query:e=>({url:"/api/users",params:{page:e.page,limit:e.limit}})}),usersControllerFindOne:e.query({query:e=>({url:"/api/users/".concat(e.id)})}),usersControllerUpdate:e.mutation({query:e=>({url:"/api/users/".concat(e.id),method:"PATCH",body:e.updateUserDto})}),usersControllerRemove:e.mutation({query:e=>({url:"/api/users/".concat(e.id),method:"DELETE"})}),filesControllerUploadFile:e.mutation({query:e=>({url:"/api/files/upload",method:"POST",body:e.body})}),filesControllerDownload:e.query({query:e=>({url:"/api/files/".concat(e.path)})}),authControllerLogin:e.mutation({query:e=>({url:"/api/auth/email/login",method:"POST",body:e.authEmailLoginDto})}),authControllerAdminLogin:e.mutation({query:e=>({url:"/api/auth/admin/email/login",method:"POST",body:e.authEmailLoginDto})}),authControllerRegister:e.mutation({query:e=>({url:"/api/auth/email/register",method:"POST",body:e.authRegisterLoginDto})}),authControllerConfirmEmail:e.mutation({query:e=>({url:"/api/auth/email/confirm",method:"POST",body:e.authConfirmEmailDto})}),authControllerForgotPassword:e.mutation({query:e=>({url:"/api/auth/forgot/password",method:"POST",body:e.authForgotPasswordDto})}),authControllerResetPassword:e.mutation({query:e=>({url:"/api/auth/reset/password",method:"POST",body:e.authResetPasswordDto})}),authControllerMe:e.query({query:()=>({url:"/api/auth/me"})}),authControllerUpdate:e.mutation({query:e=>({url:"/api/auth/me",method:"PATCH",body:e.authUpdateDto})}),authControllerDelete:e.mutation({query:()=>({url:"/api/auth/me",method:"DELETE"})}),homeControllerAppInfo:e.query({query:()=>({url:"/"})}),machineControllerCreate:e.mutation({query:e=>({url:"/api/machine",method:"POST",body:e.createMachineDto})}),machineControllerFindAll:e.query({query:()=>({url:"/api/machine"})}),machineControllerFindOne:e.query({query:e=>({url:"/api/machine/".concat(e.id)})}),machineControllerUpdate:e.mutation({query:e=>({url:"/api/machine/".concat(e.id),method:"PATCH",body:e.updateMachineDto})}),machineControllerRemove:e.mutation({query:e=>({url:"/api/machine/".concat(e.id),method:"DELETE"})}),shiftControllerCreate:e.mutation({query:e=>({url:"/api/shift",method:"POST",body:e.createShiftDto})}),shiftControllerFindAll:e.query({query:e=>({url:"/api/shift",params:{id:e.id}})}),shiftControllerFindOne:e.query({query:e=>({url:"/api/shift/".concat(e.id)})}),shiftControllerUpdate:e.mutation({query:e=>({url:"/api/shift/".concat(e.id),method:"PATCH",body:e.updateShiftDto})}),shiftControllerRemove:e.mutation({query:e=>({url:"/api/shift/".concat(e.id),method:"DELETE"})}),hardwareActionControllerCreateQrCode:e.mutation({query:e=>({url:"/api/qrCode/createQrCode",method:"POST",body:e.createQrCodeDto})}),hardwareActionControllerCreateRfid:e.mutation({query:e=>({url:"/api/qrCode/createRFID",method:"POST",body:e.createRfidDto})}),mesControllerFindAllRecord:e.query({query:()=>({url:"/api/mes"})}),mesControllerFindAllRecordByMachineAndDateTime:e.query({query:e=>({url:"/api/mes/machineDateTime",params:{machineId:e.machineId,startTime:e.startTime,endTime:e.endTime}})}),mesControllerGetDailyLineChartData:e.query({query:e=>({url:"/api/mes/dailyLineChartData",params:{machineId:e.machineId,time:e.time}})}),mesControllerFindOneRecord:e.query({query:e=>({url:"/api/mes/".concat(e.moduleSerialNo)})}),monitorServiceManagerControllerGetMachineState:e.query({query:e=>({url:"/api/monitor",params:{machineId:e.machineId}})})}),overrideExisting:!1}),{useUsersControllerCreateMutation:h,useUsersControllerFindAllQuery:p,useUsersControllerFindOneQuery:f,useUsersControllerUpdateMutation:g,useUsersControllerRemoveMutation:y,useFilesControllerUploadFileMutation:b,useFilesControllerDownloadQuery:C,useAuthControllerLoginMutation:k,useAuthControllerAdminLoginMutation:x,useAuthControllerRegisterMutation:v,useAuthControllerConfirmEmailMutation:w,useAuthControllerForgotPasswordMutation:E,useAuthControllerResetPasswordMutation:L,useAuthControllerMeQuery:T,useAuthControllerUpdateMutation:D,useAuthControllerDeleteMutation:N,useHomeControllerAppInfoQuery:R,useMachineControllerCreateMutation:S,useMachineControllerFindAllQuery:A,useMachineControllerFindOneQuery:P,useMachineControllerUpdateMutation:O,useMachineControllerRemoveMutation:j,useShiftControllerCreateMutation:I,useShiftControllerFindAllQuery:F,useShiftControllerFindOneQuery:M,useShiftControllerUpdateMutation:_,useShiftControllerRemoveMutation:U,useHardwareActionControllerCreateQrCodeMutation:Z,useHardwareActionControllerCreateRfidMutation:B,useMesControllerFindAllRecordQuery:W,useMesControllerFindAllRecordByMachineAndDateTimeQuery:z,useMesControllerGetDailyLineChartDataQuery:H,useMesControllerFindOneRecordQuery:V,useMonitorServiceManagerControllerGetMachineStateQuery:G}=m},24033:function(e,n,u){e.exports=u(50094)}},function(e){e.O(0,[982,792,254,20,971,472,744],function(){return e(e.s=4618)}),_N_E=e.O()}]);